import{Aa as g,B as h,Ba as w,Da as F,Fa as _,Ga as I,H as l,Ha as q,I as S,J as s,Ma as L,Oa as T,P as M,Ra as P,T as C,X as m,aa as d,ba as p,ca as E,ga as j,l as k,m as y,ma as f,na as O,qa as R,s as u,v as D,wa as b,xa as v}from"./chunk-KKY4SSJ7.js";function x(n,t){let e=!t?.manualCleanup;e&&!t?.injector&&D(x);let i=e?t?.injector?.get(h)??u(h):null,c=U(t?.equal),r;t?.requireSync?r=l({kind:0},{equal:c}):r=l({kind:1,value:t?.initialValue},{equal:c});let a=n.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(t?.rejectErrors)throw o;r.set({kind:2,error:o})}});if(t?.requireSync&&r().kind===0)throw new y(601,!1);return i?.onDestroy(a.unsubscribe.bind(a)),g(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new y(601,!1)}},{equal:t?.equal})}function U(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}function z(n,t){if(n&1&&(d(0,"li",6),f(1),b(2,"date"),b(3,"number"),b(4,"number"),E(5,"img",7),p()),n&2){let e=t.$implicit,i=j();s(),R(" ",v(2,5,e.dt*1e3,"EEEE, MMM d"),": ",e.weather[0].main," - Min: ",v(3,8,e.temp.min,".0-0")," - Max: ",v(4,11,e.temp.max,".0-0")," "),s(4),m("src",i.weatherService.getWeatherIcon(e.weather[0].id),S)}}var ae=(()=>{class n{weatherService=u(P);route=u(L);routeParams=x(this.route.params);zipcode=g(()=>this.routeParams()?.zipcode);forecast=l(void 0);_fetchForecast=w(()=>{this.weatherService.getForecast(this.zipcode()).pipe(k(e=>this.forecast.set(e))).subscribe()});static \u0275fac=function(i){return new(i||n)};static \u0275cmp=M({type:n,selectors:[["app-forecasts-list"]],decls:9,vars:3,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"routerLink"],[1,"list-group-item"],[1,"icon",3,"src"]],template:function(i,c){if(i&1&&(d(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2),f(4),p()(),d(5,"ul",3),C(6,z,6,14,"li",4),p()()(),d(7,"button",5),f(8,"< Back to main page"),p()),i&2){let r,a;s(4),O(" 5-day forecast for ",(r=c.forecast())==null?null:r.city.name," "),s(2),m("ngForOf",(a=c.forecast())==null?null:a.list),s(),m("routerLink","/")}},dependencies:[q,F,I,_,T],styles:[".icon[_ngcontent-%COMP%]{width:45px;height:45px;position:absolute;right:20px;top:-2px}"],changeDetection:0})}return n})();export{ae as ForecastsListComponent};
